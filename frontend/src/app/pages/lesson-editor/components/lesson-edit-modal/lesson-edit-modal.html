<div class="modal-backdrop" (click)="onClose()"></div>

<div class="modal-dialog" (click)="$event.stopPropagation()">
  <div class="modal-header">
    <h2 class="modal-title">锔 Editar Lecci贸n</h2>
    <button class="close-btn" (click)="onClose()" aria-label="Cerrar modal">
      <span></span>
    </button>
  </div>

  <form class="modal-body" (ngSubmit)="onSubmit()">
    <!-- T铆tulo -->
    <div class="form-group">
      <label for="title" class="form-label">
        T铆tulo de la Lecci贸n <span class="required">*</span>
      </label>
      <input
        type="text"
        id="title"
        class="form-control"
        placeholder="Ej: Variables y Tipos de Datos"
        [value]="title()"
        (input)="title.set($any($event.target).value)"
        required
      />
    </div>

    <!-- Descripci贸n -->
    <div class="form-group">
      <label for="description" class="form-label">
        Descripci贸n
      </label>
      <textarea
        id="description"
        class="form-control"
        rows="4"
        placeholder="Describe brevemente el contenido de esta lecci贸n..."
        [value]="description()"
        (input)="description.set($any($event.target).value)"
      ></textarea>
    </div>

    <!-- Fila: XP y Orden -->
    <div class="form-row">
      <!-- XP Reward -->
      <div class="form-group">
        <label for="xpReward" class="form-label">
          Recompensa XP <span class="required">*</span>
        </label>
        <input
          type="number"
          id="xpReward"
          class="form-control"
          min="0"
          [value]="xpReward()"
          (input)="xpReward.set(+$any($event.target).value)"
          required
        />
      </div>

      <!-- Order -->
      <div class="form-group">
        <label for="order" class="form-label">
          Orden <span class="required">*</span>
        </label>
        <input
          type="number"
          id="order"
          class="form-control"
          min="1"
          [value]="order()"
          (input)="order.set(+$any($event.target).value)"
          required
        />
      </div>
    </div>

    <!-- Lecci贸n Privada -->
    <div class="form-group checkbox-group">
      <label class="checkbox-label">
        <input
          type="checkbox"
          [checked]="isPrivate()"
          (change)="isPrivate.set($any($event.target).checked)"
        />
        <span class="checkbox-text">
           Lecci贸n Privada (Un solo intento, tipo examen)
        </span>
      </label>
      <p class="help-text">
        Si est谩 marcada, el estudiante solo tendr谩 un intento para completar esta lecci贸n.
      </p>
    </div>

    <!-- Botones -->
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="onClose()">
        Cancelar
      </button>
      <button type="submit" class="btn btn-primary">
         Guardar Cambios
      </button>
    </div>
  </form>
</div>
